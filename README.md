# Leona 1.0

## 聊天机器人(Leona) 使用全说明

由本人使用Python语言、nb-cli脚手架、Nonebot2框架搭建，go-cqhttp工具登录ws反向代理，挂载于云服务器全天运行

* 特别说明：因为tx的nt操作，所以并不能保证时刻稳定ㄟ( ▔, ▔ )ㄏ，准备了两个号哪个不行了就换另一个

***一般情况下命令前缀为":"，如无效请按照示例输入即可***

--Leon

レオナは、高性能ですから!o(*≧▽≦)ツ  --Leona

### 基本运作原理

* bot.py：          python主文件，程序核心，负责启动项目与指定加载插件，可以理解为bot的心脏
* go-cqhttp工具：   QQ登录代理工具，bot与互联网的沟通媒介
* 插件：            可以理解为bot的意识与灵魂，bot的所有行为都是基于插件运作的

## 已安装插件及使用方法

### 插件管理器(nonebot_plugin_manager)

作用：在线管理机器人的插件

* 注：本插件仅bot超级用户(SUPERUSER)可以进行敏感操作，普通用户仅可进行有限操作，看不懂的可以忽略这个插件
权限详情(仅供参考)：

|私聊读   |群聊读 |私聊写   |群聊写   |私聊执行|群聊执行|
|--------|-------|--------|---------|---------|--------|
|超级用户 |超级用户|群|超级用户 |超级用户|超级用户|群|
| 用户    |用户    |群     |用户     |无权限   |用户|用户 & 群|
|群管理员 |不存在   |群     |不存在   |用户 & 群|不存在|用户 & 群|

 命令参考:

```txt
    :npm ls                                    查看当前会话插件列表
    -s, --store                                互斥参数，查看插件商店列表（仅超级用户可用）
    -u user_id, --user user_id                 互斥参数，查看指定用户插件列表（仅超级用户可用）
    -g group_id, --group group_id              互斥参数，查看指定群插件列表（仅超级用户可用）
    -a, --all                                  可选参数，查看所有插件（包括不含 Matcher 的插件）

    :npm info                                  插件名查询插件信息 （仅超级用户可用）

    :npm chmod mode [plugin]                   设置插件权限（仅超级用户可用）
    mode                                       必选参数，需要设置的权限，参考上文
    plugin...                                  必选参数，需要设置的插件名
    -a, --all                                  可选参数，全选插件
    -r, --reverse                              可选参数，反选插件

    :npm block [plugin]                        禁用当前会话插件（需要权限）
    [plugin]                                   必选参数，需要禁用的插件名
    -a, --all                                  可选参数，全选插件
    -r, --reverse                              可选参数，反选插件
    -u user_id ..., --user user_id ...         可选参数，管理指定用户设置（仅超级用户可用）
    -g group_id ..., --group group_id ...      可选参数，管理指定群设置（仅超级用户可用）

    :npm unblock [plugin]                      启用当前会话插件（需要权限）
    [plugin]                                   必选参数，需要禁用的插件名
    -a, --all                                  可选参数，全选插件
    -r, --reverse                              可选参数，反选插件
    -u user_id ..., --user user_id ...         可选参数，管理指定用户设置（仅超级用户可用）
    -g group_id ..., --group group_id ...      可选参数，管理指定群设置（仅超级用户可用）
```

### 国内新冠疫情播报(nonebot_plugin_covid19_news)

作用：爬取网络数据进行疫情播报

* 注：使用此插件无需命令前缀

命令公式：

```txt
    [城市名]疫情                                                  查询地方疫情信息（风险等级 新增 目前确诊）
    [城市名]疫情政策                                              查询地方出入政策
    [城市名]风险地区                                               查询城市风险地区（只限查询大陆地级市或直辖市）
    :关注疫情[城市名]                                              疫情信息更新推送
    :取消关注疫情[城市名]/取消关注疫情[城市名]/取消推送疫情[城市名]    疫情信息更新推送
```

### 今日运势(nonebot_plugin_fortune)

作用：废话

命令参考：

```txt
    :今日运势
    :抽签
    :运势
```

### 抽象工具(nonebot_plugin_abstract)

作用：抽象化任意句子(笑)

命令公式：

```txt
  :抽象 [句子]
```

### 人生重开模拟器(nonebot_plugin_remake)

作用：让群员们的悲惨人生过得舒服点(笑)

命令参考：

```txt
  @机器人 :remake/:liferestart/:人生重开/:人生重来
  之后按提示输入即可
```

### 彩云小梦AI续写(nonebot_plugin_caiyunai)

作用：API连接使用彩云小梦

命令公式：

```txt
  @机器人 :续写
  :彩云小梦 [句子]
```

之后按提示输入即可

### 俄罗斯轮盘赌(nonebot_plugin_russian)

作用：跟Leona玩一玩命吧OwO

命令参考:

```txt
  :轮盘签到
```

之后按提示输入即可

详细玩法:

```txt
  :轮盘签到            获取金币

  开启游戏：           装弹 [子弹数] [金额](默认200金币) [at] (指定决斗对象，为空则所有群友都可接受决斗)
  接受对决：           接受对决/接受挑战/拒绝决斗/拒绝挑战
  开始对决：           开枪/咔/嘭/嘣 [子弹数](默认1)（轮流开枪，根据子弹数连开N枪，30秒未开枪另一方可使用‘结算’命令结束对决并胜利）
  结算：               结算（当某一方30秒未开枪，可使用该命令强行结束对决并胜利）
  我的战绩：           我的战绩
  我的金币：           我的金币
  排行榜：             金币排行/胜场排行/败场排行/欧洲人排行/慈善家排行
```

* 注：同一时间群内只能有一场对决

### 综合点歌(nonebot_plugin_simplemusic)

作用：废话

* 注：该插件支持多平台，默认平台为QQ音乐

命令公式：

```txt
  :点歌/:qq点歌/:网易点歌/:酷我点歌/:酷狗点歌/:咪咕点歌/:b站点歌 [关键词]
```

### MC服务器状态查询(nonebot_plugin_mcstatus)

作用：查看MC服务器状态

命令参考:

```txt
  :mc list                     查看当前会话（群/私聊）的关注服务器列表
  :mc add [server] [address]   添加服务器到当前会话（群/私聊）的关注服务器列表
  :mc remove [server]          从当前会话（群/私聊）的关注服务器列表移除服务器
  :mc check [address]          查看指定地址的服务器状态（一次性）
```

### 撤回机制(nonebot_plugin_withdraw)

作用：撤回机器人所发消息
注：如有群友发现机器人所发信息不符合xjpxsdtsshzyhxjzg，请善用此插件，蟹蟹

命令公式:

```txt
  @机器人 :撤回 [num1][-num2]
  :撤回 [num1][-num2]
```

命令示例:

```txt
  @机器人 :撤回      撤回倒数第一条消息
  @机器人 :撤回 1    撤回倒数第二条消息
  @机器人 :撤回 0-3  撤回倒数三条消息
  :撤回             使用命令前缀的情况下无需@
```

### 天气查询(nonebot_plugin_weather_lite)

作用：基于[wttr.in](https://github.com/chubin/wttr.in)进行天气查询（甚至可以看月相）

* 注：公式中命令[天气]均可替换为[weather]、[wttr]、[tianqi]

可选langcode：

```txt
   am ar af be bn ca da de el et fr fa hi hu ia id it lt mg nb nl oc pl pt-br ro ru ta tr th uk vi zh-cn zh-tw
```

命令公式：

```txt
  :天气 [城市名]                  基本查询
  :天气 [城市名]_format=v2        查询格式v2
  :天气 [城市名]_format=v3        查询格式v3
  :天气 [城市名]_lang=[langcode]  查询指定语言

  :天气 Moon                      查看月相
```

### 早晚安(nonebot_plugin_morning)

作用：记录群员们的阴间作息(乐)

命令参考：

```txt
  :早安
  :晚安
```
